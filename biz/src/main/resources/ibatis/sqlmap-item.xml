<?xml version="1.0" encoding="GB2312"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="item">
	
	<typeAlias alias="item" type="com.hsh24.dms.api.item.bo.Item" />
	
	<select id="getItemList" parameterClass="item" resultClass="item">
	<![CDATA[
		SELECT t.item_id AS itemId,
		       t.item_no AS itemNo,
		       t.item_name AS itemName,
		       t.sup_id AS supId,
		       t.price,
		       t.stock,
		       t.postage,
		       t.quota,
		       t.origin,
		       t.remark
		  FROM dms_tb_item t
		 WHERE t.state = 'U'
	]]>	
		<dynamic>
			<isNotEmpty property="codes" prepend="and">
			<![CDATA[ t.item_id IN ]]>
				<iterate property="codes" open="(" close=")" conjunction=",">#codes[]#</iterate>
			</isNotEmpty>
		</dynamic>
	<![CDATA[
		LIMIT $limit$ OFFSET $offset$
	]]>		
	</select>
	
	<select id="getItem" parameterClass="item" resultClass="item">
	<![CDATA[
		SELECT t.item_id AS itemId,
		  t.item_no      AS itemNo,
		  t.item_name    AS itemName,
		  t.price,
		  t.stock,
		  t.postage,
		  t.quota,
		  t.origin,
		  t.remark
		FROM dms_tb_item t
		WHERE t.state = 'U'
		AND t.item_id = #itemId#
	]]>		
	</select>
	
</sqlMap>