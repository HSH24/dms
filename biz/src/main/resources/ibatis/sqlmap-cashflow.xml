<?xml version="1.0" encoding="GB2312"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="cashflow">
	
	<typeAlias alias="cashflow" type="com.hsh24.dms.api.cashflow.bo.Cashflow" />
	
	<insert id="createCashflow" parameterClass="cashflow">
	<![CDATA[
		INSERT
		INTO dms_tb_cashflow
		  (
			CASEFLOW_CID,
			SHOP_ID,
			BANK_ACCT_ID,
			SUMMARY,
			CR_AMOUNT,
			DR_AMOUNT,
			TRADE_DATE,
			TRADE_NO,
			STATE,
			CREATE_DATE,
			CREATE_USER,
			MODIFY_DATE,
			MODIFY_USER
		  )
		  VALUES
		  (
			1,
			#shopId#,
			#bankAcctId#,
			#summary#,
			#crAmount#,
			#drAmount#,
			STR_TO_DATE(#tradeDate#, '%Y-%m-%d %T'),
			#tradeNo#,
			'U',
			NOW(),
			#modifyUser#,
			NOW(),
			#modifyUser#
		  )
	]]>
		<selectKey resultClass="java.lang.Long" keyProperty="cartId">
		<![CDATA[
			SELECT LAST_INSERT_ID()
		]]>
		</selectKey>
	</insert>
	
</sqlMap>