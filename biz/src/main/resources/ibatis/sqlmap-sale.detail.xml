<?xml version="1.0" encoding="GB2312"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="sale.detail">
	
	<typeAlias alias="saleDetail" type="com.hsh24.dms.api.sale.bo.SaleDetail" />
	
	<select id="getSaleDetailList" parameterClass="saleDetail" resultClass="saleDetail">
	<![CDATA[
		SELECT gv.goods_nm AS itemName,
			   gv.goods_unit_nm AS unit,
			   og.goods_num AS quantity
		  FROM oms.ord_order_goods_t og,
			   oms.main_goods_v gv,
			   oms.ord_order_t qq
		 WHERE og.goods_id= gv.goods_id
		   AND og.goods_mode= gv.goods_mode
		   AND (og.goods_spec_id = '' OR og.goods_spec_id = gv.goods_spec_id)
		   AND og.order_id= qq.order_id
		   AND qq.order_status = '0005'
		   AND qq.org_id = #shopId#
		   and qq.order_cd = #tradeNo#
	]]>
	</select>
	
</sqlMap>